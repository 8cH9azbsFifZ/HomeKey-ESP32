<html style="height: 100dvh;">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>HK Configuration</title>
  <script>
    async function addComponent(name) {
      let element = document.querySelector("#component");
      if(element){
        element.remove();
      }
      switch (name) {
        case "mqtt":
          let data = await fetch("mqtt");
          let string = await data.text();
          let el = document.createElement("div");
          el.id = "component";
          el.innerHTML = string;
          document.body.appendChild(el);
          eval(document.querySelector("#component").querySelector("script").innerText);
          break;
        case "info":
          let data1 = await fetch("info");
          let string1 = await data1.text();
          let el1 = document.createElement("div");
          el1.id = "component";
          el1.innerHTML = string1;
          document.body.appendChild(el1);
          break;
        case "misc":
          let data2 = await fetch("misc");
          let string2 = await data2.text();
          let el2 = document.createElement("div");
          el2.id = "component";
          el2.innerHTML = string2;
          document.body.appendChild(el2);
          eval(document.querySelector("#component").querySelector("script").innerText);
          break;
      }
    } 
  </script>
</head>

<body style="display: flex; flex-direction: column; align-items: center;">
  <h1>HomeKey-ESP32</h1>
  <div>
    <button onclick='addComponent("info")' style="border: 2px;padding: .6rem;border-style: groove;cursor: pointer;margin-right: 1rem;" rel="noopener noreferrer">HK Info</a>
    <button onclick='addComponent("mqtt")' style="border: 2px;padding: .6rem;border-style: groove;cursor: pointer;margin-right: 1rem;" rel="noopener noreferrer">MQTT Config</a>
    <button onclick='addComponent("misc")' style="border: 2px;padding: .6rem;border-style: groove;cursor: pointer;margin-right: 1rem;" rel="noopener noreferrer">Misc</a>
  </div>
</body>

</html>